(this["webpackJsonpreact-scrollified-example"]=this["webpackJsonpreact-scrollified-example"]||[]).push([[0],{10:function(e,t,n){e.exports=n(19)},11:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);n(11);var o=n(0),r=n.n(o),i=n(4),a=n.n(i),l=n(3),c=n(8),s=n(5),u=n(6),d=n(9),h=n(7),p="_styles-module__test__3ybTi",f=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).loading=!1,o.state={page:o.props.offset||0,prevY:0,childrenCount:0,loadCount:0},o}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.observer=new IntersectionObserver(this.handleObserver.bind(this),{root:null,rootMargin:"0px",threshold:0}),this.observer.observe(this.loadingRef)}},{key:"componentDidUpdate",value:function(e){r.a.Children.count(this.props.children)!==r.a.Children.count(e.children)&&(this.loading=!1)}},{key:"componentWillUnmount",value:function(){this.loadingRef&&this.observer.unobserve(this.loadingRef)}},{key:"handleObserver",value:function(e){var t=this,n=e[0].boundingClientRect.y;(this.state.prevY>n||1===this.state.loadCount)&&this.props.hasMore&&!this.loading&&(this.loading=!0,this.setState({loadCount:this.state.loadCount+1},(function(){t.setState({childrenCount:r.a.Children.count(t.props.children)},(function(){var e=t.state.childrenCount;t.props.loadMore(e),t.setState({page:e})}))}))),n>0&&this.setState({prevY:n})}},{key:"render",value:function(){var e=this,t={display:this.loading?"block":"none"};return r.a.createElement("div",{className:"container",style:{minHeight:"1px"}},this.props.children,r.a.createElement("div",{ref:function(t){return null!==t?e.loadingRef=t:null}},r.a.createElement("div",{style:t},this.props.loader)))}}]),n}(o.Component),v=Object(o.createElement)("span",null,"Loading..."),b=function(){var e=Object(o.useState)([]),t=Object(c.a)(e,2),n=t[0],r=t[1];Object(o.useEffect)((function(){i(0)}),[]);var i=function(e){console.log("load more",e);var t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Array(Math.ceil((t-e)/n)).fill(e).map((function(e,t){return e+t*n}))}(e,e+100);setTimeout((function(){r([].concat(Object(l.a)(n),Object(l.a)(t)))}),400)};return Object(o.createElement)("div",{className:p},Object(o.createElement)("div",{style:{minHeight:"800px"}},Object(o.createElement)(f,{hasMore:!0,loader:v,loadMore:function(e){return i(e)}},n.map((function(e,t){return Object(o.createElement)("div",{key:t},e)})))))},m=(n(18),function(){return r.a.createElement(b,null)});a.a.render(r.a.createElement(m,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.0862807e.chunk.js.map